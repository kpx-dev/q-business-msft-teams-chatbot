openapi: 3.0.0
info:
  title: User Upgrade - Help upgrade a user to a new plan
  version: 1.0.0

servers:
- url: https://dmpjjdfxz2oe7lqvfe7sbtxtem0ztmen.lambda-url.us-east-1.on.aws/

paths:
  /user/{userId}/plan/{planId}:
    post:
      summary: Upgrade a user to a new plan based on their user id and plan id
      description: Upgrade a user based on user id and plan id. 
      parameters:
      - name: userId
        x-amzn-form-display-name: "User Id"
        description: The user's id of the customer
        in: path
        required: true
        schema:
          type: integer
      - name: planId
        in: path
        x-amzn-form-display-name: "Plan Id"
        description: The plan id to upgrade to 
        required: true
        schema:
          type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Upgrade'
      responses:
        '201':
          description: Upgraded Member to a new package successfully

security:
  - OAuth2:
      - read
      - write

components:
  securitySchemes:
    OAuth2:
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: https://example.com/oauth/authorize
          tokenUrl: https://example.com/oauth/token
          scopes:
            read: Read access to resources
            write: Write access to resources
    
  schemas:
    Upgrade:
      type: object
      required:
      - planId
      - userId
      properties:
        planId:
          type: integer
        userId:
          type: integer

